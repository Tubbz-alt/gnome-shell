Description: Add an helper to detect current desktop
 We will differentiate some behavior depending on current desktop. Add an
 helper to centralize the current desktop detection.
Forwarded: not-needed
Origin: ubuntu
Author: didrocks@ubuntu.com
Index: gnome-shell-3.24.3/js/misc/desktop.js
===================================================================
--- /dev/null
+++ gnome-shell-3.24.3/js/misc/desktop.js
@@ -0,0 +1,27 @@
+// -*- mode: js; js-indent-level: 4; indent-tabs-mode: nil -*-
+
+const GLib = imports.gi.GLib;
+
+// is:
+// @name: desktop string you want to assert if it matches the current desktop env
+//
+// The function examples XDG_CURRENT_DESKTOP and return if the current desktop
+// is part of that desktop string.
+//
+// Return value: if the environment isn't set or doesn't match, return False
+// otherwise, return True.
+function is(name) {
+    let desktopsEnv = GLib.getenv('XDG_CURRENT_DESKTOP');
+    if (!desktopsEnv) {
+        return false;
+    }
+
+    let desktops = desktopsEnv.split(":");
+    for (let i = 0; i < desktops.length; i++) {
+        if (desktops[i] === name) {
+            return true;
+        }
+    }
+
+    return false;
+}
